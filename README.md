# EEG Semester Project: Average Task Value (Python/MNE)

This repository contains materials and a Python/MNE pipeline to reproduce and extend the EEG findings of the paper "Task‑level value affects trial‑level reward processing" using the OpenNeuro dataset `ds004147`.

Highlights
- Dataset: BIDS-structured BrainVision EEG under `data/raw/ds004147`.
- Original MATLAB reference: `原/averagetaskvalue-main` (paper authors' code).
- Our pipeline: Python + MNE, with ICLabel/autoreject options, baseline regression, and group-level stats.

Quickstart
1) Create environment (conda recommended):
   - `conda create -n eeg_project python=3.10 -y`
   - `conda activate eeg_project`
   - `pip install -r requirements.txt`

2) Place data under `data/raw/ds004147` (BIDS). Update `src/config.py` if needed.

3) Run the minimal sanity-check script (generates two figures):
   - `python scripts/m1_quickcheck.py --sub 28`

4) (Optional, course-aligned) Run mne-bids-pipeline with `pipeline/config.py` to generate derivatives and reports.

Project layout
- `data/raw/ds004147/`  BIDS dataset.
- `src/`           Python source modules (preprocessing, events, erp, tfr, stats).
- `scripts/`       Reproducible entry points (milestone-oriented helpers).
- `notebooks/`     Optional exploration notebooks.
- `figures/`       Generated plots (gitignored by default).
- `results/`       CSV summaries and stats (gitignored by default).
- `pipeline/`      mne-bids-pipeline config and docs.
- `derivatives/`   Outputs generated by pipelines (auto-created).

References
- Paper/preprint: https://doi.org/10.1101/2021.09.16.460600
- Dataset: https://openneuro.org/datasets/ds004147/
- MATLAB code: https://github.com/chassall/averagetaskvalue
